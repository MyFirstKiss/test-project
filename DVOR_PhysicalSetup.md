# DVOR - Physical/Geometric Setup

```mermaid
graph TB
    subgraph "การจัดวางฮาร์ดแวร์ DVOR"
        Camera[📷 กล้อง Camera<br/>ติดตั้งด้านบน<br/>มองลงมาแนวดิ่ง]
        Mirror[🪞 กระจกสะท้อน<br/>Mirror<br/>วางเอียงด้านข้าง]
        Platform[📦 แท่นวางส้ม<br/>Platform<br/>สีพื้นหลังคงที่]
        Marker[📏 Marker<br/>วัตถุอ้างอิงขนาด]
        Light[💡 ไฟส่องสว่าง<br/>Lighting<br/>แสงคงที่]
        Orange[🍊 ผลส้ม<br/>Orange]
        
        Camera -->|ถ่ายภาพด้านบน| Orange
        Camera -->|ถ่ายภาพสะท้อน| Mirror
        Mirror -->|สะท้อนด้านข้าง| Orange
        Orange -->|วางบน| Platform
        Marker -->|อยู่ใกล้| Orange
        Light -->|ส่องแสง| Orange
    end
    
    style Camera fill:#4fc3f7
    style Mirror fill:#b39ddb
    style Platform fill:#aed581
    style Marker fill:#ffb74d
    style Orange fill:#ff8a65
    style Light fill:#fff176
```

## 📐 รายละเอียดการติดตั้ง

### 1. **กล้อง (Camera)**
- **ตำแหน่ง:** ติดตั้งด้านบนตรงกลาง มองลงมาแนวดิ่ง
- **ระยะห่าง:** ปรับระยะให้ครอบคลุมทั้งผลส้มและกระจกสะท้อนในเฟรมเดียว
- **คุณสมบัติ:** กล้อง RGB ความละเอียดสูง (แนะนำ ≥ 5MP)
- **ฟังก์ชัน:** จับภาพ 2 มุมมองในเฟรมเดียว
  - Top View: มุมมองด้านบนของผลส้มโดยตรง
  - Side View: มุมมองด้านข้างผ่านกระจกสะท้อน

### 2. **กระจกสะท้อน (Mirror)**
- **มุมการวาง:** วางเอียงในมุมที่เหมาะสม เพื่อสะท้อนภาพด้านข้างของผลส้ม
- **ขนาด:** เพียงพอที่จะสะท้อนผลส้มทั้งหมดด้านข้าง
- **ตำแหน่ง:** วางด้านข้างของแท่นวางส้ม ห่างจากผลส้มในระยะที่เหมาะสม
- **วัสดุ:** กระจกเรียบคุณภาพสูง ไม่บิดเบือนภาพ
- **การปรับแต่ง:** สามารถปรับมุมเพื่อให้ได้ภาพสะท้อนที่ชัดเจนที่สุด
- **วัตถุประสงค์:** ช่วยให้ได้มุมมองด้านข้างโดยไม่ต้องใช้กล้องที่ 2 ประหยัดต้นทุน

### 3. **แท่นวางส้ม (Platform)**
- **สี:** พื้นหลังสีทึบ (แนะนำสีตัดกับส้ม เช่น สีขาว หรือสีเทา)
- **พื้นผิว:** เรียบ ไม่สะท้อนแสง (matte finish)
- **ขนาด:** เพียงพอสำหรับวางส้มขนาดต่างๆ
- **วัตถุประสงค์:** ช่วยให้แยกวัตถุ (Segmentation) ได้ง่ายขึ้น

### 4. **Marker (วัตถุอ้างอิงขนาด)**
- **รูปแบบ:** วัตถุที่มีขนาดทราบแน่นอน เช่น บล็อกสี่เหลี่ยมขนาด 2×2 cm
- **ตำแหน่ง:** วางใกล้ผลส้มในมุมมองกล้อง
- **สี:** แตกต่างจากผลส้มและพื้นหลังเพื่อให้ตรวจจับได้ง่าย
- **วัตถุประสงค์:** ใช้ปรับเทียบสเกล (Calibration) แปลงจากพิกเซลเป็นหน่วยจริง (mm/cm)

### 5. **แสงสว่าง (Lighting)**
- **ประเภท:** แสงขาว (White LED) หรือแสงธรรมชาติที่สม่ำเสมอ
- **การควบคุม:** แสงคงที่ ไม่กระพริบ หลีกเลี่ยงเงามากเกินไป
- **ตำแหน่ง:** ส่องจากด้านบนหรือด้านข้าง หลีกเลี่ยงการสะท้อนกลับ (glare)
- **วัตถุประสงค์:** ให้ได้ภาพที่ชัดเจน สีสันสม่ำเสมอ

---

## 🔄 หลักการทำงานและมุมมองที่ได้

### การจับภาพ (Image Capture Mechanism):
```
         📷 กล้อง (ติดตั้งด้านบน)
              │
              │ เส้นทางแสง (Optical Path)
              ├─────────────┐
              │             │
              ↓             ↓
     🍊 Top View    🪞 → 🍊 Side View
     (ภาพตรง)       (ภาพสะท้อน)
```

### ผลลัพธ์ในเฟรมเดียว:
```
┌─────────────────────────────────────┐
│         📷 กล้อง Camera             │
│      (มองลงมาแนวดิ่ง)              │
└────────────┬────────────────────────┘
             │
             │ จับภาพพร้อมกัน
             ▼
┌────────────────────────────────────────────┐
│  เฟรมเดียว (Single Frame)                │
│                                            │
│  ┌──────────────┐   ┌──────────────┐    │
│  │              │   │              │    │
│  │  🍊 Top View │   │ 🍊 Side View │    │
│  │   (ด้านบน)   │   │  (สะท้อน)   │    │
│  │              │   │              │    │
│  └──────────────┘   └──────────────┘    │
│       + 📏              + 📏             │
│      Marker           Marker             │
└────────────────────────────────────────────┘
```

---

## 🎯 ข้อดีของการออกแบบนี้

✅ **ประหยัดต้นทุน:** ใช้กล้องเพียงตัวเดียวแทนการใช้ 2 ตัว  
✅ **ไม่ซับซ้อน:** ไม่ต้องซิงค์การถ่ายภาพหลายกล้อง  
✅ **ข้อมูลครบถ้วน:** ได้ทั้งมุมมองด้านบนและด้านข้างในเฟรมเดียว  
✅ **ติดตั้งง่าย:** ใช้อุปกรณ์ที่หาได้ง่าย  
✅ **ความแม่นยำ:** สามารถปรับเทียบสเกลด้วย Marker

---

## 📌 ข้อควรระวังและคำแนะนำ

⚠️ **กระจกต้องสะอาด:** หลีกเลี่ยงรอยเปื้อน รอยนิ้วมือ หรือฝุ่นที่อาจทำให้ภาพสะท้อนเสียหาย  
⚠️ **มุมของกระจก:** ต้องปรับมุมให้เหมาะสมเพื่อให้ภาพสะท้อนด้านข้างชัดเจน ไม่บิดเบือน และอยู่ในกรอบภาพ  
⚠️ **แสงสะท้อน (Glare):** ต้องจัดการแสงไม่ให้เกิดแสงสะท้อนจากพื้นผิวกระจกมากเกินไป อาจใช้กระจก anti-glare  
⚠️ **ตำแหน่งส้ม:** ต้องวางในตำแหน่งที่กำหนดไว้อย่างสม่ำเสมอ เพื่อให้ได้ภาพที่มีคุณภาพเท่ากัน  
⚠️ **ระยะห่าง:** ระยะระหว่างกล้อง กระจก และผลส้มต้องคงที่ เพื่อความสม่ำเสมอของข้อมูล  
⚠️ **การสั่นสะเทือน:** หลีกเลี่ยงการสั่นของกล้องหรือกระจกขณะถ่ายภาพ อาจใช้ขาตั้งที่มั่นคง

## 💡 เคล็ดลับการติดตั้ง

✅ **ทดสอบมุมกระจก:** ถ่ายภาพทดลองหลายมุม เพื่อหามุมที่ให้ภาพสะท้อนชัดที่สุด  
✅ **ใช้ Marker อ้างอิง:** วาง Marker ทั้งในภาพตรงและภาพสะท้อนเพื่อช่วยในการ calibration  
✅ **ตรวจสอบแสง:** ทดสอบภายใต้แสงต่างๆ เพื่อหาค่าที่เหมาะสม  
✅ **บันทึกการตั้งค่า:** จดบันทึกตำแหน่งและมุมที่ใช้ได้ผลดี เพื่อใช้ซ้ำได้
